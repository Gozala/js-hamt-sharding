import { assert } from "aegir/utils/chai.js"
import * as Hash from "../src/hash.js"
import { fromString as fromUTF8 } from "uint8arrays/from-string"
import * as murmur3128 from "@multiformats/murmur3/murmur128.js"

describe("hash", () => {
  const config = {
    /**
     * @param {Uint8Array} source
     */
    hash: source => murmur3128.encode(source),
    hashSize: 16,
    bitWidth: 8,
  }

  const key = fromUTF8("some value")
  const expected = [
    180, 98, 135, 19, 161, 13, 6, 237, 129, 3, 220, 110, 63, 144, 134, 190, 94,
    34, 22, 215, 207, 193, 61, 28, 191, 194, 15, 36, 131, 254, 163, 43, 188, 13,
    250, 32, 64, 158, 33, 219, 195, 144, 159, 79, 141, 193, 68, 164, 205, 101,
    131, 214, 153, 211, 70, 202, 117, 241, 219, 171, 193, 116, 159, 132, 168,
    143, 72, 81, 255, 157, 244, 230, 106, 137, 169, 163, 189, 71, 53, 53, 217,
    213, 2, 70, 159, 234, 117, 105, 8, 94, 80, 156, 63, 145, 151, 10, 191, 16,
    187, 42, 154, 104, 191, 235, 79, 199, 114, 119, 2, 164, 87, 32, 146, 243,
    36, 48, 67, 181, 105, 63, 210, 39, 15, 227, 248, 70, 252, 20, 103, 27, 229,
    75, 248, 0, 234, 231, 229, 210, 171, 126, 21, 115, 131, 192, 102, 204, 121,
    139, 19, 230, 164, 171, 243, 189, 253, 198, 81, 106, 222, 94, 28, 245, 68,
    131, 62, 81, 190, 208, 146, 137, 86, 35, 165, 3, 148, 90, 106, 92, 252, 94,
    227, 29, 201, 179, 234, 49, 48, 249, 166, 31, 229, 219, 27, 237, 60, 229,
    193, 254, 93, 147, 61, 132, 129, 155, 92, 41, 86, 84, 103, 182, 244, 160,
    210, 186, 33, 15, 24, 5, 28, 227, 182, 226, 62, 248, 96, 87, 112, 211, 22,
    11, 24, 253, 117, 90, 227, 69, 151, 68, 87, 110, 195, 82, 166, 151, 32, 189,
    122, 244, 112, 49, 240, 229, 243, 61, 167, 39, 4, 24, 242, 128, 99, 127,
    239, 237, 107, 28, 101, 46, 115, 51, 221, 97, 161, 165, 21, 223, 221, 246,
    162, 89, 77, 250, 184, 225, 159, 20, 224, 113, 142, 32, 104, 111, 226, 26,
    216, 236, 33, 242, 37, 224, 112, 143, 42, 144, 85, 91, 244, 229, 152, 166,
    239, 38, 55, 247, 23, 146, 37, 26, 94, 35, 115, 201, 205, 123, 63, 80, 163,
    191, 156, 91, 192, 25, 18, 107, 46, 86, 241, 254, 31, 198, 170, 43, 168, 27,
    54, 37, 105, 82, 199, 149, 217, 195, 88, 19, 170, 209, 79, 248, 206, 145,
    63, 79, 165, 223, 134, 19, 198, 226, 2, 44, 23, 206, 125, 163, 210, 167,
    129, 104, 130, 38, 182, 43, 219, 228, 33, 152, 96, 105, 137, 56, 81, 250,
    130, 52, 149, 160, 28, 191, 207, 0, 193, 109, 42, 193, 11, 91, 253, 174,
    103, 7, 100, 251, 197, 246, 186, 177, 42, 40, 8, 248, 82, 234, 126, 217,
    185, 76, 199, 206, 26, 244, 45, 9, 221, 93, 118, 96, 248, 16, 132, 31, 75,
    108, 45, 217, 245, 119, 65, 21, 122, 78, 219, 80, 229, 86, 184, 177, 85, 94,
    244, 136, 139, 158, 162, 132, 7, 191, 143, 183, 73, 231, 131, 65, 23, 201,
    251, 125, 42, 176, 235, 231, 174, 168, 127, 116, 172, 91, 44, 248, 16, 134,
    157, 176, 63, 41, 183, 87, 78, 47, 135, 130, 2, 179, 38, 163, 198, 169, 121,
    126, 22, 31, 25, 146, 106, 240, 117, 49, 163, 233, 99, 92, 106, 137, 245,
    221, 186, 26, 136, 26, 31, 228, 148, 26, 104, 156, 161, 23, 184, 83, 71,
    172, 183, 66, 232, 152, 179, 12, 85, 126, 247, 205, 73, 149, 39, 164, 92,
    132, 4, 234, 147, 0, 196, 226, 197, 82, 76, 215, 231, 105, 58, 8, 4, 201,
    85, 159, 45, 8, 180, 224, 22, 201, 185, 77, 23, 220, 217, 108, 5, 28, 161,
    44, 87, 129, 131, 132, 111, 33, 67, 182, 33, 200, 10, 87, 96, 108, 192, 110,
    169, 237, 170, 238, 101, 213, 122, 229, 168, 44, 224, 111, 194, 220, 104,
    241, 192, 120, 211, 147, 203, 129, 163, 151, 232, 52, 226, 18, 12, 137, 97,
    149, 3, 32, 91, 239, 191, 150, 209, 110, 180, 64, 178, 8, 106, 160, 55, 252,
    141, 9, 247, 19, 47, 117, 93, 210, 125, 71, 61, 252, 225, 247, 120, 126,
    228, 65, 170, 229, 63, 139, 223, 69, 235, 216, 120, 116, 140, 226, 212, 3,
    184, 49, 220, 61, 88, 81, 195, 93, 13, 207, 36, 74, 49, 218, 172, 76, 231,
    248, 142, 209, 159, 74, 189, 16, 39, 40, 47, 49, 130, 158, 239, 111, 237,
    121, 247, 165, 20, 71, 201, 66, 164, 227, 157, 66, 4, 171, 240, 32, 185,
    223, 56, 253, 33, 82, 97, 234, 0, 201, 70, 157, 172, 4, 39, 158, 4, 63, 103,
    221, 184, 141, 10, 72, 118, 152, 179, 194, 185, 10, 50, 45, 240, 111, 186,
    241, 79, 137, 31, 116, 160, 17, 158, 245, 15, 92, 254, 85, 5, 237, 192, 216,
    196, 219, 239, 52, 38, 145, 4, 91, 85, 102, 171, 133, 135, 111, 90, 73, 23,
    248, 187, 235, 22, 154, 252, 139, 43, 174, 32, 221, 66, 180, 189, 36, 222,
    29, 120, 206, 64, 80, 189, 226, 191, 91, 184, 140, 166, 39, 71, 159, 52, 72,
    206, 189, 59, 131, 205, 100, 161, 239, 99, 167, 32, 194, 69, 167, 118, 68,
    76, 201, 113, 35, 220, 126, 208, 28, 53, 73, 154, 241, 203, 206, 162, 176,
    192, 181, 203, 207, 2, 217, 228, 96, 200, 125, 124, 232, 17, 2, 57, 235,
    141, 34, 200, 245, 43, 234, 105, 139, 86, 39, 51, 214, 104, 30, 50, 214, 63,
    49, 149, 207, 8, 231, 185, 172, 7, 169, 103, 173, 19, 108, 152, 42, 225,
    191, 49, 236, 232, 156, 160, 92, 184, 152, 232, 218, 176, 253, 30, 222, 87,
    33, 60, 55, 203, 229, 62, 137, 7, 182, 46, 122, 118, 38, 62, 49, 19, 89,
    125, 41, 44, 248, 141, 5, 170, 28, 208, 219, 10, 163, 107, 65, 97, 68, 135,
    209, 96, 95, 212, 90, 160, 248, 2, 149, 184, 139, 250, 198, 210, 206, 48,
    100, 83, 2, 90, 30, 46, 180, 36, 41, 34, 250, 46, 241, 242, 238, 62, 20,
    231, 38, 58, 93, 28, 210, 172, 254, 37, 180, 174, 69, 86, 43, 239, 29, 76,
    160, 204, 159, 57, 208, 253, 25, 192, 58, 166, 10, 68, 122, 54, 59, 214,
    254, 203, 4, 220, 180, 145, 54, 239, 169, 1, 213, 155, 91, 0, 88, 34, 139,
    54, 52, 115, 87, 155, 150, 147, 184, 227, 183, 210, 99, 17, 9, 235, 255,
    215, 72, 115, 59, 80, 90, 216, 142, 154, 102, 16, 29, 231, 244, 196, 228,
    175, 253, 87, 255, 117, 218, 51, 96, 182, 198, 100, 170, 106, 188, 36, 235,
    142, 217, 169, 60, 161, 252, 89, 108, 24, 16, 126, 164, 153, 210, 242, 9,
    54, 153, 75, 105, 212, 101, 223, 146, 162, 86, 33, 198, 164, 193, 227, 66,
    252, 244, 141, 35, 182, 185, 180, 205, 235, 56, 37, 244, 116, 249, 79, 123,
    117, 50, 116, 41, 27, 80, 3, 163, 143, 30, 67, 92, 248, 165, 244, 243, 45,
    50, 63, 242, 222, 105, 250, 222, 218, 235, 132, 54, 148, 148, 9, 184, 77,
    235, 88, 198, 207, 22, 101, 64, 249, 4, 100, 91, 112, 167, 46, 50, 91, 229,
    217, 117, 28, 192, 64, 115, 35, 65, 92, 173, 68, 184, 178, 44, 73, 246, 213,
    197, 151, 198, 94, 15, 250, 38, 130, 112, 124, 127, 5, 181, 79, 191, 138,
    98, 238, 99, 249, 78, 33, 36, 186, 61, 222, 147, 172, 248, 227, 80, 50, 163,
    152, 16, 40, 197, 102, 43, 100, 218, 237, 73, 201, 142, 144, 176, 43, 193,
    239, 20, 174, 147, 164, 186, 38, 43, 157, 222, 68, 9, 75, 254, 204, 47, 68,
    202, 227, 59, 79, 43, 250, 147, 159, 76, 79, 28, 35, 102, 129, 19, 250, 90,
    112, 214, 13, 31, 161, 131, 120, 73, 53, 19, 182, 33, 240, 18, 193, 26, 78,
    212, 243, 2, 235, 33, 31, 192, 123, 44, 73, 192, 78, 141, 120, 229, 54, 209,
    248, 163, 163, 160, 194, 246, 214, 215, 88, 122, 13, 36, 38, 88, 71, 96,
    232, 53, 109, 51, 160, 27, 50, 168, 185, 176, 248, 162, 101, 224, 75, 18,
    244, 78, 155, 78, 210, 245, 217, 28, 199, 235, 232, 208, 195, 200, 33, 251,
    63, 63, 179, 159, 8, 232, 202, 38, 147, 95, 22, 21, 178, 158, 41, 219, 221,
    194, 196, 153, 166, 201, 65, 237, 243, 56, 51, 180, 177, 184, 140, 209, 168,
    0, 116, 49, 128, 165, 67, 182, 180, 39, 65, 32, 25, 120, 24, 227, 227, 156,
    109, 213, 97, 178, 139, 225, 179, 18, 239, 214, 86, 80, 47, 182, 53, 25,
    114, 167, 88, 185, 241, 184, 76, 39, 194, 136, 47, 92, 209, 241, 123, 13,
    152, 253, 224, 149, 247, 168, 103, 146, 232, 144, 87, 223, 220, 185, 95,
    174, 137, 64, 250, 65, 169, 100, 62, 166, 128, 178, 16, 177, 125, 178, 143,
    4, 72, 160, 210, 175, 202, 243, 62, 194, 73, 144, 200, 191, 101, 202, 238,
    96, 26, 131, 4, 99, 175, 106, 26, 3, 246, 115, 203, 98, 70, 206, 64, 48,
    220, 51, 165, 223, 25, 92, 49, 78, 83, 28, 169, 134, 79, 211, 107, 201, 214,
    93, 20, 26, 233, 48, 85, 221, 248, 28, 151, 33, 153, 159, 109, 30, 169, 194,
    45, 80, 105, 98, 90, 25, 124, 25, 37, 21, 109, 161, 27, 126, 241, 225, 46,
    153, 98, 231, 15, 46, 32, 15, 231, 155, 156, 15, 192, 134, 130, 226, 25,
    211, 36, 49, 215, 85, 241, 139, 2, 10, 242, 249, 55, 24, 226, 202, 174, 119,
    229, 99, 154, 163, 134, 213, 4, 88, 152, 187, 218, 174, 28, 200, 18, 216,
    85, 56, 137, 122, 157, 51, 136, 119, 156, 175, 182, 70, 239, 82, 132, 242,
    24, 133, 87, 64, 48, 105, 219, 72, 24, 34, 101, 156, 135, 206, 199, 205,
    181, 150, 131, 206, 219, 208, 72, 129, 134, 72, 150, 230, 122, 221, 167, 26,
    73, 30, 74, 148, 247, 208, 210, 228, 255, 162, 255, 8, 220, 100, 218, 4,
    125, 31, 68, 53, 10, 231, 156, 29, 31, 93, 197, 105, 115, 99, 58, 5, 178,
    143, 208, 174, 179, 254, 167, 44, 165, 24, 61, 244, 189, 248, 157, 63, 26,
    76, 16, 64, 104, 3, 111, 244, 109, 79, 18, 97, 13, 125, 240, 52, 108, 174,
    83, 239, 190, 234, 158, 76, 203, 11, 18, 20, 46, 174, 150, 226, 66, 45, 139,
    79, 171, 98, 143, 65, 234, 9, 252, 238, 31, 131, 126, 207, 141, 87, 145,
    179, 128, 47, 180, 113, 61, 157, 106, 22, 45, 51, 182, 148, 13, 228, 57, 76,
    161, 106, 201, 107, 48, 106, 173, 163, 67, 195, 61, 43, 249, 170, 56, 248,
    193, 201, 50, 66, 33, 132, 226, 104, 247, 239, 69, 66, 92, 141, 53, 161,
    141, 247, 46, 55, 104, 253, 244, 191, 206, 116, 145, 192, 255, 12, 84, 90,
    69, 16, 39, 23, 13, 54, 49, 111, 167, 108, 239, 93, 59, 68, 110, 62, 11,
    129, 241, 240, 47, 98, 161, 148, 112, 103, 235, 127, 243, 71, 48, 43, 40,
    175, 194, 42, 135, 3, 12, 193, 129, 114, 152, 134, 60, 223, 64, 115, 185,
    147, 165, 242, 212, 90, 85, 12, 15, 101, 218, 52, 154, 162, 14, 95, 226,
    198, 35, 200, 64, 118, 87, 79, 224, 111, 37, 60, 34, 204, 168, 219, 92, 5,
    192, 42, 129, 166, 17, 87, 33, 26, 220, 246, 117, 171, 230, 164, 125, 129,
    61, 233, 86, 131, 18, 138, 244, 132, 211, 218, 166, 54, 75, 251, 216, 23,
    84, 115, 50, 9, 18, 2, 43, 42, 205, 201, 223, 230, 52, 207, 161, 32, 184,
    205, 205, 30, 159, 97, 139, 82, 177, 255, 158, 3, 144, 248, 5, 202, 188, 43,
    24, 70, 235, 127, 41, 232, 126, 64, 147, 204, 71, 12, 248, 24, 160, 180,
    104, 69, 32, 53, 249, 108, 109, 32, 222, 240, 194, 116, 220, 172, 124, 226,
    66, 67, 115, 103, 16, 197, 146, 110, 213, 54, 53, 166, 118, 66, 222, 34,
    200, 91, 151, 109, 34, 111, 80, 43, 225, 239, 151, 209, 69, 37, 226, 5, 239,
    141, 244, 195, 98, 163, 167, 166, 112, 137, 145, 118, 27, 47, 225, 240, 188,
    227, 242, 217, 20, 179, 77, 170, 204, 66, 55, 173, 255, 186, 198, 31, 164,
    151, 22, 197, 243, 121, 118, 132, 112, 91, 97, 157, 243, 255, 87, 131, 237,
    31, 65, 152, 52, 23, 247, 171, 157, 247, 184, 246, 25, 250, 246, 207, 254,
    208, 137, 26, 86, 44, 205, 3, 130, 26, 90, 21, 56, 75, 93, 11, 7, 67, 212,
    46, 42, 95, 120, 215, 119, 59, 120, 166, 106, 97, 57, 243, 139, 115, 186,
    190, 133, 135, 83, 214, 134, 39, 25, 152, 40, 42, 102, 225, 207, 176, 229,
    84, 26, 135, 42, 231, 37, 23, 209, 38, 168, 14, 174, 1, 188, 174, 8, 111,
    63, 74, 53, 71, 218, 181, 6, 246, 12, 44, 139, 59, 132, 107, 237, 140, 84,
    160, 77, 38, 88, 197, 23, 235, 24, 129, 51, 208, 96, 231, 98, 178, 17, 208,
    47, 7, 236, 183, 228, 2, 156, 212, 37, 197, 112, 100, 155, 159, 254, 54,
    239, 116, 167, 188, 245, 111, 136, 70, 209, 222, 7, 153, 39, 49, 127, 184,
    183, 3, 73, 244, 49, 97, 193, 121, 218, 32, 251, 164, 160, 235, 133, 82, 77,
    161, 250, 212, 99, 230, 155, 190, 102, 192, 253, 105, 72, 35, 147, 218, 31,
    164, 47, 30, 55, 204, 7, 55, 144, 154, 126, 239, 193, 43, 134, 199, 158,
    222, 10, 232, 231, 1, 235, 239, 40, 126, 107, 129, 55, 19, 81, 178, 104, 59,
    223, 64, 152, 165, 235, 7, 250, 130, 136, 58, 114, 153, 57, 222, 159, 17,
    248, 73, 122, 96, 137, 90, 191, 199, 2, 63, 66, 81, 108, 172, 20, 94, 33,
    87, 236, 57, 36, 21, 132, 113, 51, 233, 171, 249, 223, 130, 219, 73, 193,
    199, 94, 243, 157, 231, 236, 59, 89, 112, 76, 166, 168, 104, 198, 15, 114,
    181, 3, 89, 229, 109, 187, 111, 84, 62, 232, 20, 125, 58, 16, 58, 104, 201,
    193, 73, 248, 97, 51, 90, 143, 130, 40, 185, 51, 230, 210, 218, 133, 68,
    253, 133, 95, 70, 173, 3, 141, 147, 175, 173, 39, 24, 92, 195, 185, 139,
    127, 171, 70, 209, 81, 253, 88, 96, 174, 154, 9, 170, 81, 144, 249, 133,
    141, 194, 79, 247, 188, 55, 244, 62, 50, 12, 151, 149, 132, 242, 185, 184,
    59, 98, 3, 168, 95, 92, 183, 15, 211, 57, 101, 247, 157, 152, 78, 63, 185,
    246, 132, 11, 112, 123, 215, 119, 168, 102, 243, 40, 91, 102, 162, 173, 213,
    143, 128, 69, 147, 156, 75, 192, 8, 215, 112, 182, 255, 77, 19, 160, 214,
    212, 159, 109, 30, 54, 246, 34, 169, 145, 111, 207, 85, 67, 223, 72, 176,
    19, 201, 87, 221, 223, 42, 151, 167, 122, 245, 169, 196, 56, 9, 13, 207,
    231, 28, 36, 61, 69, 233, 71, 133, 44, 151, 206, 141, 113, 193, 110, 79,
    201, 173, 136, 34, 159, 61, 50, 96, 221, 34, 57, 167, 124, 189, 83, 111,
    150, 134, 130, 71, 102, 65, 100, 156, 14, 103, 173, 242, 190, 185, 29, 129,
    243, 21, 7, 185, 167, 107, 101, 143, 156, 191, 179, 118, 148, 87, 54, 217,
    88, 79, 72, 131, 232, 225, 232, 252, 202, 40, 7, 28, 189, 131, 163, 96, 28,
    104, 174, 205, 236, 222, 220, 228, 175, 128, 58, 148, 216, 4, 205, 73, 48,
    103, 101, 35, 186, 16, 16, 190, 11, 161, 236, 149, 241, 69, 97, 237, 0, 110,
    23, 70, 172, 82, 143, 138, 61, 1, 36, 87, 77, 151, 179, 44, 139, 151, 102,
    77, 215, 71, 151, 209, 237, 151, 94, 239, 94, 163, 77, 93, 136, 4, 251, 104,
    22, 67, 218, 180, 120, 243, 62, 180, 253, 85, 186, 118, 32, 176, 231, 108,
    84, 153, 104, 180, 59, 72, 179, 255, 143, 73, 191, 52, 219, 133, 39, 51, 75,
    138, 222, 80, 227, 170, 204, 153, 186, 13, 232, 82, 99, 139, 241, 53, 150,
    77, 249, 221, 173, 162, 207, 139, 251, 150, 95, 251, 148, 14, 195, 53, 241,
    37, 186, 178, 141, 15, 89, 170, 14, 51, 172, 60, 60, 58, 38, 194, 222, 42,
    141, 55, 115, 82, 254, 214, 204, 94, 189, 104, 102, 169, 72, 100, 129, 215,
    21, 73, 166, 85, 4, 190, 77, 155, 7, 150, 247, 131, 86, 187, 191, 202, 187,
    45, 247, 43, 231, 148, 76, 108, 73, 233, 243, 219, 30, 208, 86, 212, 23, 79,
    166, 36, 160, 87, 92, 90, 237, 173, 21, 148, 83, 199, 107, 23, 161, 81, 173,
    150, 244, 198, 247, 31, 8, 79, 144, 191, 240, 195, 219, 245, 24, 57, 87,
    251, 0, 247, 42, 52, 207, 10, 183, 113, 100, 87, 243, 119, 237, 196, 234, 6,
    182, 156, 156, 57, 126, 195, 251, 68, 250, 175, 196, 82, 44, 110, 183, 97,
    1, 60, 163, 94, 201, 142, 202, 145, 221, 70, 142, 55, 211, 126, 117, 6, 100,
    223, 103, 147, 135, 137, 216, 16, 14, 166, 144, 91, 244, 116, 214, 130, 217,
    35, 185, 238, 72, 74, 170, 98, 64, 160, 10, 43, 72, 39, 43, 232, 78, 172,
    250, 87, 25, 11, 76, 52, 125, 136, 64, 164, 150, 26, 93, 30, 63, 150, 80,
    108, 197, 120, 190, 66, 111, 190, 250, 25, 190, 199, 95, 178, 25, 199, 95,
    66, 141, 176, 211, 253, 213, 250, 191, 125, 63, 77, 222, 25, 246, 120, 78,
    59, 52, 225, 141, 206, 84, 241, 32, 62, 87, 41, 220, 211, 19, 232, 95, 68,
    249, 102, 171, 60, 205, 26, 108, 98, 212, 141, 166, 181, 163, 251, 25, 145,
    10, 200, 36, 203, 102, 220, 29, 74, 95, 229, 155, 75, 206, 24, 227, 227,
    110, 15, 50, 220, 246, 231, 255, 103, 180, 186, 200, 119, 87, 206, 162, 161,
    8, 237, 228, 208, 124, 46, 83, 50, 29, 163, 198, 36, 95, 209, 237, 80, 47,
    78, 105, 76, 38, 36, 169, 85, 218, 222, 216, 173, 57, 137, 254, 141, 123,
    72, 53, 197, 250, 236, 38, 140, 71, 129, 173, 122, 252, 189, 255, 33, 119,
    162, 164, 215, 112, 124, 188, 96, 50, 209, 232, 6, 49, 3, 65, 91, 73, 28,
    179, 111, 31, 139, 229, 110, 216, 151, 155, 209, 96, 110, 203, 75, 221, 163,
    166, 220, 24, 139, 253, 19, 158, 247, 114, 57, 238, 218, 248, 165, 53, 161,
    159, 54, 172, 122, 51, 185, 158, 244, 219, 86, 181, 254, 89, 117, 233, 52,
    86, 40, 155, 175, 162, 92, 137, 28, 140, 216, 68, 14, 89, 92, 255, 125, 172,
    83, 192, 18, 128, 69, 29, 240, 64, 39, 106, 183, 186, 72, 141, 24, 42, 219,
    146, 140, 123, 17, 208, 227, 167, 111, 207, 120, 245, 6, 132, 68, 97, 167,
    190, 205, 142, 170, 181, 154, 124, 202, 228, 167, 187, 255, 220, 27, 10, 62,
    157, 117, 71, 49, 53, 194, 60, 178, 78, 43, 121, 126, 186, 181, 143, 161,
    59, 231, 122, 227, 32, 120, 32, 162, 224, 163, 22, 72, 185, 175, 163, 24,
    127, 214, 3, 159, 196, 8, 70, 28, 96, 130, 109, 85, 181, 135, 54, 173, 9,
    100, 176, 50, 37, 141, 164, 220, 177, 37, 187, 34, 86, 232, 143, 32, 230,
    226, 180, 213, 145, 135, 120, 89, 72, 222, 224, 197, 59, 190, 50, 32, 235,
    25, 202, 180, 164, 235, 184, 197, 44, 198, 155, 89, 251, 172, 211, 127, 80,
    137, 49, 2, 47, 63, 44, 147, 171, 49, 248, 90, 61, 207, 182, 240, 37, 69,
    59, 190, 143, 146, 77, 81, 226, 170, 167, 212, 76, 102, 194, 225, 41, 167,
    148, 165, 38, 153, 55, 122, 125, 38, 222, 196, 154, 36, 0, 27, 13, 198, 225,
    201, 188, 212, 78, 192, 112, 76, 107, 196, 168, 97, 195, 240, 188, 23, 126,
    98, 248, 156, 230, 229, 226, 67, 220, 214, 66, 203, 160, 200, 128, 37, 174,
    249, 113, 61, 130, 38, 77, 71, 151, 105, 231, 127, 183, 223, 56, 236, 130,
    182, 88, 21, 5, 113, 215, 242, 231, 0, 252, 176, 154, 113, 172, 200, 35,
    153, 94, 158, 192, 135, 193, 243, 186, 82, 193, 78, 235, 32, 26, 190, 91,
    252, 47, 214, 232, 228, 35, 141, 80, 55, 192, 152, 93, 207, 47, 20, 169, 72,
    153, 164, 14, 77, 140, 233, 200, 150, 40, 171, 153, 183, 23, 172, 120, 70,
    74, 7, 10, 120, 41, 45, 88, 10, 147, 79, 66, 96, 133, 193, 112, 129, 142,
    186, 142, 177, 154, 111, 86, 243, 213, 122, 88, 19, 228, 175, 27, 101, 216,
    159, 37, 74, 63, 162, 159, 122, 218, 60, 125, 214, 119, 222, 116, 25, 110,
    70, 188, 42, 85, 219, 166, 201, 80, 30, 126, 12, 201, 14, 188, 213, 141,
    224, 20, 8, 60, 52, 15, 195, 173, 148, 213, 112, 56, 86, 66, 97, 6, 246,
    168, 151, 253, 105, 231, 137, 132, 115, 128, 21, 180, 3, 146, 249, 51, 202,
    131, 242, 83, 212, 248, 85, 175, 8, 183, 50, 164, 161, 196, 251, 193, 161,
    76, 152, 204, 165, 167, 153, 245, 180, 44, 24, 213, 107, 128, 145, 96, 44,
    202, 225, 239, 157, 14, 108, 210, 98, 87, 88, 203, 81, 187, 79, 57, 4, 10,
    183, 24, 127, 29, 233, 179, 104, 105, 47, 84, 151, 231, 43, 161, 120, 25,
    52, 10, 252, 73, 54, 207, 62, 36, 133, 1, 249, 7, 202, 128, 165, 18, 189,
    186, 128, 231, 136, 178, 166, 253, 9, 121, 43, 149, 176, 172, 167, 178, 18,
    206, 4, 227, 220, 243, 254, 12, 44, 166, 107, 183, 179, 31, 118, 150, 196,
    167, 255, 135, 26, 176, 175, 113, 116, 14, 37, 202, 197, 128, 214, 238, 49,
    132, 69, 220, 29, 150, 215, 14, 62, 233, 77, 76, 104, 106, 53, 110, 170,
    218, 71, 17, 13, 128, 187, 43, 41, 157, 136, 183, 72, 149, 81, 143, 187,
    245, 109, 173, 165, 64, 223, 176, 173, 64, 144, 221, 135, 160, 58, 246, 251,
    91, 105, 123, 207, 173, 59, 221, 243, 85, 201, 188, 24, 164, 68, 93, 48, 77,
    93, 45, 88, 80, 162, 115, 241, 94, 51, 76, 89, 158, 156, 96, 143, 175, 199,
    127, 91, 193, 56, 140, 168, 120, 26, 183, 36, 3, 119, 12, 72, 126, 222, 192,
    249, 161, 104, 229, 182, 209, 238, 187, 201, 169, 80, 180, 58, 242, 108,
    151, 96, 121, 16, 45, 48, 117, 79, 166, 84, 100, 208, 115, 142, 13, 174,
    174, 68, 198, 42, 173, 32, 130, 174, 170, 118, 159, 21, 170, 212, 221, 68,
    226, 53, 98, 56, 163, 36, 206, 155, 98, 111, 99, 215, 92, 95, 106, 139, 94,
    238, 225, 224, 10, 11, 198, 63, 108, 45, 188, 82, 112, 160, 122, 80, 56,
    122, 94, 105, 217, 37, 73, 152, 106, 95, 3, 151, 46, 150, 234, 171, 229,
    180, 12, 51, 167, 115, 171, 129, 84, 181, 77, 199, 17, 75, 174, 95, 207,
    164, 92, 68, 14, 20, 231, 58, 195, 125, 204, 219, 174, 0, 249, 26, 217, 116,
    175, 239, 241, 79, 207, 190, 162, 69, 103, 133, 27, 38, 88, 173, 251, 124,
    58, 219, 135, 190, 4, 193, 75, 5, 80, 205, 229, 20, 160, 178, 126, 183, 118,
    255, 11, 248, 188, 2, 174, 48, 212, 16, 99, 235, 228, 223, 93, 44, 29, 154,
    6, 57, 208, 160, 176, 248, 248, 203, 210, 254, 47, 93, 249, 6, 100, 37, 253,
    164, 166, 110, 3, 155, 111, 95, 241, 227, 65, 123, 243, 114, 91, 71, 236,
    151, 6, 240, 250, 44, 188, 113, 237, 179, 37, 206, 163, 46, 30, 228, 101,
    195, 86, 150, 129, 63, 86, 128, 31, 219, 133, 176, 0, 23, 127, 208, 108,
    163, 58, 70, 156, 198, 82, 44, 192, 73, 15, 90, 59, 224, 66, 19, 174, 209,
    138, 241, 253, 195, 126, 245, 225, 123, 47, 203, 15, 25, 46, 56, 214, 166,
    218, 60, 23, 48, 85, 60, 87, 241, 118, 44, 158, 191, 124, 182, 144, 231,
    196, 25, 151, 94, 34, 22, 215, 207, 193, 61, 28, 191, 194, 15, 36, 131, 254,
    163, 43, 188, 13, 250, 32, 64, 158, 33, 219, 195, 144, 159, 79, 141, 193,
    68, 164, 205, 101, 131, 214, 153, 211, 70, 202, 117, 241, 219, 171, 193,
    116, 159, 132, 168, 143, 72, 81, 255, 157, 244, 230, 106, 137, 169, 163,
    189, 71, 53, 53, 217, 213, 2, 70, 159, 234, 117, 105, 8, 94, 80, 156, 63,
    145, 151, 10, 191, 16, 187, 42, 154, 104, 191, 235, 79, 199, 114, 119, 2,
    164, 87, 32, 146, 243, 36, 48, 67, 181, 105, 63, 210, 39, 15, 227, 248, 70,
    252, 20, 103, 27, 229, 75, 248, 0, 234, 231, 229, 210, 171, 126, 21, 115,
    131, 192, 102, 204, 121, 139, 19, 230, 164, 171, 243, 189, 253, 198, 81,
    106, 222, 94, 28, 245, 68, 131, 62, 81, 190, 208, 146, 137, 86, 35, 165, 3,
    148, 90, 106, 92, 252, 94, 227, 29, 201, 179, 234, 49, 48, 249, 166, 31,
    229, 219, 27, 237, 60, 229, 193, 254, 93, 147, 61, 132, 129, 155, 92, 41,
    86, 84, 103, 182, 244, 160, 210, 186, 33, 15, 24, 5, 28, 227, 182, 226, 62,
    248, 96, 87, 112, 211, 22, 11, 24, 253, 117, 90, 227, 69, 151, 68, 87, 110,
    195, 82, 166, 151, 32, 189, 122, 244, 112, 49, 240, 229, 243, 61, 167, 39,
    4, 24, 242, 128, 99, 127, 239, 237, 107, 28, 101, 46, 115, 51, 221, 97, 161,
    165, 21, 223, 221, 246, 162, 89, 77, 250, 184, 225, 159, 20, 224, 113, 142,
    32, 104, 111, 226, 26, 216, 236, 33, 242, 37, 224, 112, 143, 42, 144, 85,
    91, 244, 229, 152, 166, 239, 38, 55, 247, 23, 146, 37, 26, 94, 35, 115, 201,
    205, 123, 63, 80, 163, 191, 156, 91, 192, 25, 18, 107, 46, 86, 241, 254, 31,
    198, 170, 43, 168, 27, 54, 37, 105, 82, 199, 149, 217, 195, 88, 19, 170,
    209, 79, 248, 206, 145, 63, 79, 165, 223, 134, 19, 198, 226, 2, 44, 23, 206,
    125, 163, 210, 167, 129, 104, 130, 38, 182, 43, 219, 228, 33, 152, 96, 105,
    137, 56, 81, 250, 130, 52, 149, 160, 28, 191, 207, 0, 193, 109, 42, 193, 11,
    91, 253, 174, 103, 7, 100, 251, 197, 246, 186, 177, 42, 40, 8, 248, 82, 234,
    126, 217, 185, 76, 199, 206, 26, 244, 45, 9, 221, 93, 118, 96, 248, 16, 132,
    31, 75, 108, 45, 217, 245, 119, 65, 21, 122, 78, 219, 80, 229, 86, 184, 177,
    85, 94, 244, 136, 139, 158, 162, 132, 7, 191, 143, 183, 73, 231, 131, 65,
    23, 201, 251, 125, 42, 176, 235, 231, 174, 168, 127, 116, 172, 91, 44, 248,
    16, 134, 157, 176, 63, 41, 183, 87, 78, 47, 135, 130, 2, 179, 38, 163, 198,
    169, 121, 126, 22, 31, 25, 146, 106, 240, 117, 49, 163, 233, 99, 92, 106,
    137, 245, 221, 186, 26, 136, 26, 31, 228, 148, 26, 104, 156, 161, 23, 184,
    83, 71, 172, 183, 66, 232, 152, 179, 12, 85, 126, 247, 205, 73, 149, 39,
    164, 92, 132, 4, 234, 147, 0, 196, 226, 197, 82, 76, 215, 231, 105, 58, 8,
    4, 201, 85, 159, 45, 8, 180, 224, 22, 201, 185, 77, 23, 220, 217, 108, 5,
    28, 161, 44, 87, 129, 131, 132, 111, 33, 67, 182, 33, 200, 10, 87, 96, 108,
    192, 110, 169, 237, 170, 238, 101, 213, 122, 229, 168, 44, 224, 111, 194,
    220, 104, 241, 192, 120, 211, 147, 203, 129, 163, 151, 232, 52, 226, 18, 12,
    137, 97, 149, 3, 32, 91, 239, 191, 150, 209, 110, 180, 64, 178, 8, 106, 160,
    55, 252, 141, 9, 247, 19, 47, 117, 93, 210, 125, 71, 61, 252, 225, 247, 120,
    126, 228, 65, 170, 229, 63, 139, 223, 69, 235, 216, 120, 116, 140, 226, 212,
    3, 184, 49, 220, 61, 88, 81, 195, 93, 13, 207, 36, 74, 49, 218, 172, 76,
    231, 248, 142, 209, 159, 74, 189, 16, 39, 40, 47, 49, 130, 158, 239, 111,
    237, 121, 247, 165, 20, 71, 201, 66, 164, 227, 157, 66, 4, 171, 240, 32,
    185, 223, 56, 253, 33, 82, 97, 234, 0, 201, 70, 157, 172, 4, 39, 158, 4, 63,
    103, 221, 184, 141, 10, 72, 118, 152, 179, 194, 185, 10, 50, 45, 240, 111,
    186, 241, 79, 137, 31, 116, 160, 17, 158, 245, 15, 92, 254, 85, 5, 237, 192,
    216, 196, 219, 239, 52, 38, 145, 4, 91, 85, 102, 171, 133, 135, 111, 90, 73,
    23, 248, 187, 235, 22, 154, 252, 139, 43, 174, 32, 221, 66, 180, 189, 36,
    222, 29, 120, 206, 64, 80, 189, 226, 191, 91, 184, 140, 166, 39, 71, 159,
    52, 72, 206, 189, 59, 131, 205, 100, 161, 239, 99, 167, 32, 194, 69, 167,
    118, 68, 76, 201, 113, 35, 220, 126, 208, 28, 53, 73, 154, 241, 203, 206,
    162, 176, 192, 181, 203, 207, 2, 217, 228, 96, 200, 125, 124, 232, 17, 2,
    57, 235, 141, 34, 200, 245, 43, 234, 105, 139, 86, 39, 51, 214, 104, 30, 50,
    214, 63, 49, 149, 207,
  ]

  it(`test hashes at different depth`, () => {
    for (const [depth, expect] of expected.entries()) {
      assert.equal(
        Hash.read(key, depth, config),
        expect,
        `hash(key, ${depth}, config) == ${expect}`
      )
    }
  })
})
